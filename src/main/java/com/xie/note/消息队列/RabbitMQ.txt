消息队列的应用场景：
    异步处理
    应用解耦
    流量削峰
消息对俄的缺点
    系统可用性降低
        引入外部依赖越多，越容易挂掉。
    系统复杂度提高
       保中不重复消费、消息丢失问题、传递的顺序性
    一致性问题
        异步处理时的一致性用不用保证
两种实现方式
    JMS和AMQP
    JMS是定义了统一的接口，来对消息操作进行统一；AMQP是通过规定协议来统一数据交互的格式
    JMS限定了必须使用Java语言；AMQP只是协议，不规定实现方式，因此是跨语言的。
    JMS规定了两种消息模型；而AMQP的消息模型更加丰富

常用的MQ
    ActiveMQ
        基于JMS，吞吐量不够，社区不活跃，
        主从架构实现高可用
        消息可靠
    RabbitMQ
        基于AMQP，吞吐量不够，社区活跃
        镜像集群实现高可用
        保证数据不丢失
        高级功能：消息重试、死信队列
    RocketMQ
        基于JMS，阿里巴巴的
        分布式架构，可以搭建大规模集群，性能高
        高吞吐，可达10w
    Kafka
        分布式消息系统，高吞吐量
        功能比较单一，就是消息的接受和发送
        主要应用于大数据领域，使用它进行用户行为日志的采集和计算

RabbitMQ的工作原理
    组成部分
        Broker：消息队列服务进程，此进程包括两个部分：Exchange和Queue
            Exchange：消息队列交换机，按一定的规则将消息路由转发到某个队列，对消息进行过虑。
            Queue：消息队列，存储消息的队列，消息到达队列并转发给指定的消费者
        Producer：消息生产者，即生产方客户端，生产方客户端将消息发送
        Consumer：消息消费者，即消费方客户端，接收MQ转发的消息。

    生产者发送消息流程：
        1、生产者和Broker建立TCP连接。
        2、生产者和Broker建立通道。
        3、生产者通过通道消息发送给Broker，由Exchange将消息进行转发。
        4、Exchange将消息转发到指定的Queue（队列）

    消费者接收消息流程：
        1、消费者和Broker建立TCP连接
        2、消费者和Broker建立通道
        3、消费者监听指定的Queue（队列）
        4、当有消息到达Queue时Broker默认将消息推送给消费者。
        5、消费者接收到消息。
        6、ack回复

四种部署方式
